<script>
    $(document).ready(function() {
        $("#track").click(function() {
            var awb = $("#awb").val().trim();
            if (awb === "") {
                alert("Introduceți un număr AWB!");
                return;
            }
            
            $.post("/track", { awb: awb }, function(data) {
                if (data.error) {
                    $("#result").html('<p class="text-danger">' + data.error + '</p>');
                } else {
                    $("#result").html('<p><strong>Curier:</strong> ' + data.courier + '</p>' +
                                      '<p><strong>Status:</strong> ' + data.tracking_info.status + '</p>' +
                                      '<p><strong>Locație:</strong> ' + data.tracking_info.location + '</p>');
                }
            }).fail(function() {
                $("#result").html('<p class="text-danger">Eroare la conectarea cu serverul.</p>');
            });
        });

        $("#track_international").click(function() {
            var awbInt = $("#awb_international").val().trim();
            if (awbInt === "") {
                alert("Introduceți un număr AWB internațional!");
                return;
            }
            
            $.post("/track-international", { awb: awbInt }, function(data) {
                if (data.error) {
                    $("#result_international").html('<p class="text-danger">' + data.error + '</p>');
                } else {
                    $("#result_international").html('<p><strong>Status:</strong> ' + data.data[0].track_info.latest_status + '</p>');
                }
            }).fail(function() {
                $("#result_international").html('<p class="text-danger">Eroare la conectarea cu serverul.</p>');
            });
        });
    });
</script>
