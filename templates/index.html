
<!DOCTYPE html>
<html>
<head>
    <title>AWB Direct - Urmărire Colete</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="container mt-5">
    <h1 class="text-center">AWB Direct - Urmărire Colet</h1>
    
    <div class="row mt-4">
        <div class="col-md-6">
            <h3>AWB Național</h3>
            <input type="text" id="awb" class="form-control" placeholder="Introdu AWB național">
            <button id="track" class="btn btn-primary mt-2">Caută</button>
            <div id="result"></div>
        </div>
        <div class="col-md-6">
            <h3>AWB Internațional</h3>
            <input type="text" id="awb_international" class="form-control" placeholder="Introdu AWB internațional">
            <button id="track_international" class="btn btn-secondary mt-2">Caută</button>
            <div id="result_international"></div>
        </div>
    </div>
    
    <script>
        $(document).ready(function() {
            $('#track').click(function() {
                var awb = $('#awb').val();
                $.post('/track', {awb: awb}, function(data) {
                    if (data.error) {
                        $('#result').html('<p class="text-danger">' + data.error + '</p>');
                    } else {
                        $('#result').html('<p>Curier: ' + data.courier + '</p>' +
                                          '<p>Status: ' + data.tracking_info.status + '</p>' +
                                          '<p>Locație: ' + data.tracking_info.location + '</p>');
                    }
                });
            });
            $('#track_international').click(function() {
                var awbInt = $('#awb_international').val();
                $.post('/track-international', {awb_international: awbInt}, function(data) {
                    if (data.error) {
                        $('#result_international').html('<p class="text-danger">' + data.error + '</p>');
                    } else {
                        $('#result_international').html('<p>Status: ' + data.data[0].track_info.latest_status + '</p>');
                    }
                });
            });
        });
    </script>
</body>
</html>
